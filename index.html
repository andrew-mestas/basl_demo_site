<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BASL</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/3.1.0/fullpage.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/3.1.0/fullpage.extensions.min.js"></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/3.1.0/fullpage.min.css" />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" />
  <link rel="stylesheet" href="./style.css" />
  <link rel="icon" href="./favicon.ico" />
  <link rel="stylesheet" href="./basl.css" />
  <script src="basl.js"></script>
  <base href="/basl_demo_site/">
</head>

<body>
  <a
    href="https://github.com/andrew-mestas/basl_demo_site"
    class="github-corner"
    aria-label="View source on GitHub"><svg
      width="80"
      height="80"
      viewBox="0 0 250 250"
      style="
          fill: #34de3b;
          color: rgb(243, 244, 248);
          position: absolute;
          top: 0;
          border: 0;
          left: 0;
          transform: scale(-1, 1);
          z-index: 9999;
        "
      aria-hidden="true">
      <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
      <path
        d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
        fill="currentColor"
        style="transform-origin: 130px 106px"
        class="octo-arm"></path>
      <path
        d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
        fill="currentColor"
        class="octo-body"></path>
    </svg>
  </a>
  <nav>
    <a class="selected" href="./">Desktop Demo</a> |
    <a href="./mobile">Mobile Demo</a>
  </nav>
  <div id="fullpage">
    <div class="section">
      <div class="container">
        <div class="center">
          <h1>Welcome to <span class="basl">BASL</span></h1>
          <h1>(Blended Assistive Signaling Language)</h1>
          <h2>
            Due to the pandemic, there is a greater need for touchless
            interfaces to prevent the spread of surface dwelling bacterial
            viruses.
          </h2>
          <h2>
            <span class="basl">BASL</span> is a motion and gesture tracking
            library which enables touchless interaction on most devices. I’ve
            applied a gesture recognition model that I’ve trained using
            <span class="basl">BASL</span>'s integrated training environment
          </h2>
          <hr />
          <h2>Scroll down to the next page for debriefing.</h2>
        </div>
      </div>
    </div>
    <div class="section">
      <div class="container">
        <h1>BASL Demonstration</h1>
        <h2>
          Let's go through a scenario to demonstrate BASL’s practical
          application and operational use.
        </h2>
        <h2>
          Sample Scenario: Imagine you are checking in at an airport self
          service kiosk during the current pandemic and you wish for a
          touch-free, contactless experience.
        </h2>
        <h2>
          You will be completing three check-in tasks using these gestures:
        </h2>
        <h3>1. Choose an airline. (Pinch)</h3>
        <h3>2. Print your boarding pass. (Hover)</h3>
        <h3>3. Take your photo. (Motion gesture)</h3>
        <hr />
        <h2>
          To begin, click "Start BASL". Once your video appears, please scroll
          down to the next page. Keeping in mind that after the demonstration
          has begun you will no longer need to use your mouse or keyboard.
          Please make sure only your dominant hand is in camera view. Lastly,
          the cursor will follow your thumb.
        </h2>
      </div>
    </div>
    <div class="section">
      <div class="container">
        <h1>
          Task One: You are flying with Hawaiian Airlines. Follow the
          instructions to check in to your flight.
        </h1>
        <div class="airline">
          <div class="flex col">
            <h1><i class="fas fa-plane-departure"></i> CHECK IN</h1>
            <div class="line"></div>
            <div class="center">
              <h1>Choose your airline</h1>
              <h2>
                <strong>Hover</strong> over the correct airline and
                <strong>pinch</strong> your index finger to your thumb to
                select and confirm.
                <i class="far fa-hand-pointer"></i>
                <i class="far fa-hand-lizard"></i>
              </h2>
            </div>
            <div class="flex">
              <div class="choice southwest"></div>
              <div id="airline-select" class="choice hawaiian"></div>
              <div class="choice alaska"></div>
            </div>
            <div id="airline-choice-success">
              <h1>
                Confirmation: You are flying with Hawaiian Airlines. Enjoy
                your flight!
              </h1>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="section">
      <div class="container">
        <h1>Task Two: Print your boarding pass.</h1>
        <div class="airline">
          <div class="flex col">
            <h1><i class="fas fa-plane-departure"></i> Flight Information</h1>
            <div class="line"></div>
            <div class="center">
              <h2>
                <strong>Hover</strong>
                over the boarding pass until the cursor shrinks.
              </h2>
              <h2>
                <i class="far fa-hand-spock"></i>
              </h2>
            </div>
            <div class="flex">
              <div class="choice blue">Choose or change seats</div>
              <div class="choice blue">Check in bags</div>
              <div id="flight-select" class="choice blue">
                Print boarding pass
              </div>
            </div>
            <div id="flight-choice-success">
              <h1>
                Your Boarding Pass is now printing. Please collect your pass
                from the slot.
              </h1>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="section">
      <div class="container">
        <h1>Task Three: Capture your photo for identity confirmation.</h1>
        <div class="airline">
          <div class="flex col">
            <h1>
              <i class="fas fa-plane-departure"></i> Identity Confirmation
            </h1>
            <div class="line"></div>
            <div class="flex">
              <div class="container">
                <h2>
                  <strong>Step One</strong>: Please make sure your face is in
                  full view of the camera.
                </h2>
                <h2>
                  <strong>Step Two</strong>: Move your palm in a clockwise
                  gesture until your image is captured.
                </h2>
                <h2>As you move your palm coordinate data is passed to the trained neural net which has basic
                  recognition of idle vs circular gestures.</h2>
              </div>
              <div id="prediction"></div>
              <div id="prediction-text"></div>
            </div>
            <canvas
              id="picture_canvas"
              width="1280px"
              height="720px"></canvas>
            <div id="photo-select">
              <h1>Image Captured!</h1>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="section">
      <div class="container center">
        <h2>
          You have successfully completed all 3 tasks using
          <span class="basl">BASL</span>.
          <h2>
            Thank you for taking the time to get aqcuainted with
            <span class="basl">BASL</span>. If you would like to further the
            research behind this project, please contact the creator: Andrew
            Mestas at andrew.mestas.dev@gmail.com.
          </h2>
        </h2>
      </div>
    </div>
  </div>

  <script>
    const pictureCanvas = document.getElementById("picture_canvas");
    const pictureCanvasCtx = pictureCanvas.getContext("2d");
    const airlineChoice = document.getElementById("airline-select");
    const photoSuccess = document.getElementById("photo_success");
    const photoSelect = document.getElementById("photo-select");
    const gestureModelMessage = document.getElementById("gesture-message");
    const predictionElement = document.getElementById("prediction")
    const predictionElementText = document.getElementById("prediction-text")

    let airlineHit = false;
    let flightHit = false;
    let isMobileMode = false;

    const airlineChoiceSuccess = document.getElementById(
      "airline-choice-success"
    );
    const flightChoice = document.getElementById("flight-select");
    const flightChoiceSuccess = document.getElementById(
      "flight-choice-success"
    );
    const options = {
      boundElement: flightChoice,
      onPredictionComplete: (videoFrame) => {
        photoSelect.style.visibility = "visible";
        setTimeout(() => {
          pictureCanvasCtx.drawImage(
            videoFrame,
            0,
            0,
            pictureCanvas.width,
            pictureCanvas.height
          );
        }, 1000);
      },
      plotElement: predictionElement,
      outputElement: predictionElementText,
    };

    BASL_WEB(options);

    airlineChoice.addEventListener("click", () => {
      airlineChoice.style.border = "2px solid yellow";
      airlineChoiceSuccess.style.visibility = "visible";
      if (!airlineHit) {
        setTimeout(() => {
          fullpage_api.moveSectionDown();
        }, 5000);
      }
      airlineHit = true;
    });

    flightChoice.addEventListener("click", () => {
      flightChoice.style.border = "2px solid yellow";
      flightChoiceSuccess.style.visibility = "visible";
      if (!flightHit) {
        setTimeout(() => {
          fullpage_api.moveSectionDown();
        }, 5000);
      }
      flightHit = true;
    });

    new fullpage("#fullpage", {
      licenseKey: "FA3B7941-EFDD488D-8B68894E-D0422819",
      continuousVertical: true,
      fitToSection: true,
      responsiveWidth: 600,
      responsiveHeight: 400,
      afterLoad: function (origin, destination, direction) {
        if (destination.index === 4) {
          if (!BASL_instance.runGestureModel) {
            BASL_instance.runGestureModel = true;
          }
        }
      },
      onLeave: function (origin, destination, direction) {
        if (destination.index === 4) {
          if (BASL_instance.runGestureModel) {
            BASL_instance.runGestureModel = false;
          }
        }
      },
      afterResponsive: function (isResponsive) {
        isMobileMode = isResponsive;
        console.log('isMobile?', isMobileMode)
      },
    });
  </script>
</body>

</html>